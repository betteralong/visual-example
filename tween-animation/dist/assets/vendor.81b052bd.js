function t(t,e,s){if(t&&t.length){const[n,i]=e,r=Math.PI/180*s,o=Math.cos(r),a=Math.sin(r);t.forEach((t=>{const[e,s]=t;t[0]=(e-n)*o-(s-i)*a+n,t[1]=(e-n)*a+(s-i)*o+i}))}}function e(t){const e=t[0],s=t[1];return Math.sqrt(Math.pow(e[0]-s[0],2)+Math.pow(e[1]-s[1],2))}function s(t,e,s,n){const i=e[1]-t[1],r=t[0]-e[0],o=i*t[0]+r*t[1],a=n[1]-s[1],h=s[0]-n[0],u=a*s[0]+h*s[1],c=i*h-a*r;return c?[(h*o-r*u)/c,(i*u-a*o)/c]:null}function n(t,e,s){const n=t.length;if(n<3)return!1;const a=[Number.MAX_SAFE_INTEGER,s],h=[e,s];let u=0;for(let c=0;c<n;c++){const e=t[c],s=t[(c+1)%n];if(o(e,s,h,a)){if(0===r(e,h,s))return i(e,h,s);u++}}return u%2==1}function i(t,e,s){return e[0]<=Math.max(t[0],s[0])&&e[0]>=Math.min(t[0],s[0])&&e[1]<=Math.max(t[1],s[1])&&e[1]>=Math.min(t[1],s[1])}function r(t,e,s){const n=(e[1]-t[1])*(s[0]-e[0])-(e[0]-t[0])*(s[1]-e[1]);return 0===n?0:n>0?1:2}function o(t,e,s,n){const o=r(t,e,s),a=r(t,e,n),h=r(s,n,t),u=r(s,n,e);return o!==a&&h!==u||!(0!==o||!i(t,s,e))||!(0!==a||!i(t,n,e))||!(0!==h||!i(s,t,n))||!(0!==u||!i(s,e,n))}function a(e,s){const n=[0,0],i=Math.round(s.hachureAngle+90);i&&t(e,n,i);const r=function(t,e){const s=[...t];s[0].join(",")!==s[s.length-1].join(",")&&s.push([s[0][0],s[0][1]]);const n=[];if(s&&s.length>2){let t=e.hachureGap;t<0&&(t=4*e.strokeWidth),t=Math.max(t,.1);const i=[];for(let e=0;e<s.length-1;e++){const t=s[e],n=s[e+1];if(t[1]!==n[1]){const e=Math.min(t[1],n[1]);i.push({ymin:e,ymax:Math.max(t[1],n[1]),x:e===t[1]?t[0]:n[0],islope:(n[0]-t[0])/(n[1]-t[1])})}}if(i.sort(((t,e)=>t.ymin<e.ymin?-1:t.ymin>e.ymin?1:t.x<e.x?-1:t.x>e.x?1:t.ymax===e.ymax?0:(t.ymax-e.ymax)/Math.abs(t.ymax-e.ymax))),!i.length)return n;let r=[],o=i[0].ymin;for(;r.length||i.length;){if(i.length){let t=-1;for(let e=0;e<i.length&&!(i[e].ymin>o);e++)t=e;i.splice(0,t+1).forEach((t=>{r.push({s:o,edge:t})}))}if(r=r.filter((t=>!(t.edge.ymax<=o))),r.sort(((t,e)=>t.edge.x===e.edge.x?0:(t.edge.x-e.edge.x)/Math.abs(t.edge.x-e.edge.x))),r.length>1)for(let t=0;t<r.length;t+=2){const e=t+1;if(e>=r.length)break;const s=r[t].edge,i=r[e].edge;n.push([[Math.round(s.x),o],[Math.round(i.x),o]])}o+=t,r.forEach((e=>{e.edge.x=e.edge.x+t*e.edge.islope}))}}return n}(e,s);return i&&(t(e,n,-i),function(e,s,n){const i=[];e.forEach((t=>i.push(...t))),t(i,s,n)}(r,n,-i)),r}class h{constructor(t){this.helper=t}fillPolygon(t,e){return this._fillPolygon(t,e)}_fillPolygon(t,e,s=!1){let n=a(t,e);if(s){const e=this.connectingLines(t,n);n=n.concat(e)}return{type:"fillSketch",ops:this.renderLines(n,e)}}renderLines(t,e){const s=[];for(const n of t)s.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],e));return s}connectingLines(t,s){const n=[];if(s.length>1)for(let i=1;i<s.length;i++){const r=s[i-1];if(e(r)<3)continue;const o=[s[i][0],r[1]];if(e(o)>3){const e=this.splitOnIntersections(t,o);n.push(...e)}}return n}midPointInPolygon(t,e){return n(t,(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2)}splitOnIntersections(t,i){const r=Math.max(5,.1*e(i)),a=[];for(let n=0;n<t.length;n++){const h=t[n],u=t[(n+1)%t.length];if(o(h,u,...i)){const t=s(h,u,i[0],i[1]);if(t){const s=e([t,i[0]]),n=e([t,i[1]]);s>r&&n>r&&a.push({point:t,distance:s})}}}if(a.length>1){const e=a.sort(((t,e)=>t.distance-e.distance)).map((t=>t.point));if(n(t,...i[0])||e.shift(),n(t,...i[1])||e.pop(),e.length<=1)return this.midPointInPolygon(t,i)?[i]:[];const s=[i[0],...e,i[1]],r=[];for(let n=0;n<s.length-1;n+=2){const e=[s[n],s[n+1]];this.midPointInPolygon(t,e)&&r.push(e)}return r}return this.midPointInPolygon(t,i)?[i]:[]}}class u extends h{fillPolygon(t,e){return this._fillPolygon(t,e,!0)}}class c extends h{fillPolygon(t,e){const s=this._fillPolygon(t,e),n=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),i=this._fillPolygon(t,n);return s.ops=s.ops.concat(i.ops),s}}class l{constructor(t){this.helper=t}fillPolygon(t,e){const s=a(t,e=Object.assign({},e,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(s,e)}dotsOnLines(t,s){const n=[];let i=s.hachureGap;i<0&&(i=4*s.strokeWidth),i=Math.max(i,.1);let r=s.fillWeight;r<0&&(r=s.strokeWidth/2);const o=i/4;for(const a of t){const t=e(a),h=t/i,u=Math.ceil(h)-1,c=t-u*i,l=(a[0][0]+a[1][0])/2-i/4,p=Math.min(a[0][1],a[1][1]);for(let e=0;e<u;e++){const t=p+c+e*i,a=this.helper.randOffsetWithRange(l-o,l+o,s),h=this.helper.randOffsetWithRange(t-o,t+o,s),u=this.helper.ellipse(a,h,r,r,s);n.push(...u.ops)}}return{type:"fillSketch",ops:n}}}class p{constructor(t){this.helper=t}fillPolygon(t,e){const s=a(t,e);return{type:"fillSketch",ops:this.dashedLine(s,e)}}dashedLine(t,s){const n=s.dashOffset<0?s.hachureGap<0?4*s.strokeWidth:s.hachureGap:s.dashOffset,i=s.dashGap<0?s.hachureGap<0?4*s.strokeWidth:s.hachureGap:s.dashGap,r=[];return t.forEach((t=>{const o=e(t),a=Math.floor(o/(n+i)),h=(o+i-a*(n+i))/2;let u=t[0],c=t[1];u[0]>c[0]&&(u=t[1],c=t[0]);const l=Math.atan((c[1]-u[1])/(c[0]-u[0]));for(let e=0;e<a;e++){const t=e*(n+i),o=t+n,a=[u[0]+t*Math.cos(l)+h*Math.cos(l),u[1]+t*Math.sin(l)+h*Math.sin(l)],c=[u[0]+o*Math.cos(l)+h*Math.cos(l),u[1]+o*Math.sin(l)+h*Math.sin(l)];r.push(...this.helper.doubleLineOps(a[0],a[1],c[0],c[1],s))}})),r}}class f{constructor(t){this.helper=t}fillPolygon(t,e){const s=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,n=e.zigzagOffset<0?s:e.zigzagOffset,i=a(t,e=Object.assign({},e,{hachureGap:s+n}));return{type:"fillSketch",ops:this.zigzagLines(i,n,e)}}zigzagLines(t,s,n){const i=[];return t.forEach((t=>{const r=e(t),o=Math.round(r/(2*s));let a=t[0],h=t[1];a[0]>h[0]&&(a=t[1],h=t[0]);const u=Math.atan((h[1]-a[1])/(h[0]-a[0]));for(let e=0;e<o;e++){const t=2*e*s,r=2*(e+1)*s,o=Math.sqrt(2*Math.pow(s,2)),h=[a[0]+t*Math.cos(u),a[1]+t*Math.sin(u)],c=[a[0]+r*Math.cos(u),a[1]+r*Math.sin(u)],l=[h[0]+o*Math.cos(u+Math.PI/4),h[1]+o*Math.sin(u+Math.PI/4)];i.push(...this.helper.doubleLineOps(h[0],h[1],l[0],l[1],n),...this.helper.doubleLineOps(l[0],l[1],c[0],c[1],n))}})),i}}const d={};class g{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const _={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function y(t,e){return t.type===e}function M(t){const e=[],s=function(t){const e=new Array;for(;""!==t;)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:0,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];e[e.length]={type:1,text:""+parseFloat(RegExp.$1)},t=t.substr(RegExp.$1.length)}return e[e.length]={type:2,text:""},e}(t);let n="BOD",i=0,r=s[i];for(;!y(r,2);){let o=0;const a=[];if("BOD"===n){if("M"!==r.text&&"m"!==r.text)return M("M0,0"+t);i++,o=_[r.text],n=r.text}else y(r,1)?o=_[n]:(i++,o=_[r.text],n=r.text);if(!(i+o<s.length))throw new Error("Path data ended short");for(let t=i;t<i+o;t++){const e=s[t];if(!y(e,1))throw new Error("Param not a number: "+n+","+e.text);a[a.length]=+e.text}if("number"!=typeof _[n])throw new Error("Bad segment: "+n);{const t={key:n,data:a};e.push(t),i+=o,r=s[i],"M"===n&&(n="L"),"m"===n&&(n="l")}}return e}function k(t){let e=0,s=0,n=0,i=0;const r=[];for(const{key:o,data:a}of t)switch(o){case"M":r.push({key:"M",data:[...a]}),[e,s]=a,[n,i]=a;break;case"m":e+=a[0],s+=a[1],r.push({key:"M",data:[e,s]}),n=e,i=s;break;case"L":r.push({key:"L",data:[...a]}),[e,s]=a;break;case"l":e+=a[0],s+=a[1],r.push({key:"L",data:[e,s]});break;case"C":r.push({key:"C",data:[...a]}),e=a[4],s=a[5];break;case"c":{const t=a.map(((t,n)=>n%2?t+s:t+e));r.push({key:"C",data:t}),e=t[4],s=t[5];break}case"Q":r.push({key:"Q",data:[...a]}),e=a[2],s=a[3];break;case"q":{const t=a.map(((t,n)=>n%2?t+s:t+e));r.push({key:"Q",data:t}),e=t[2],s=t[3];break}case"A":r.push({key:"A",data:[...a]}),e=a[5],s=a[6];break;case"a":e+=a[5],s+=a[6],r.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,s]});break;case"H":r.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],r.push({key:"H",data:[e]});break;case"V":r.push({key:"V",data:[...a]}),s=a[0];break;case"v":s+=a[0],r.push({key:"V",data:[s]});break;case"S":r.push({key:"S",data:[...a]}),e=a[2],s=a[3];break;case"s":{const t=a.map(((t,n)=>n%2?t+s:t+e));r.push({key:"S",data:t}),e=t[2],s=t[3];break}case"T":r.push({key:"T",data:[...a]}),e=a[0],s=a[1];break;case"t":e+=a[0],s+=a[1],r.push({key:"T",data:[e,s]});break;case"Z":case"z":r.push({key:"Z",data:[]}),e=n,s=i}return r}function b(t){const e=[];let s="",n=0,i=0,r=0,o=0,a=0,h=0;for(const{key:u,data:c}of t){switch(u){case"M":e.push({key:"M",data:[...c]}),[n,i]=c,[r,o]=c;break;case"C":e.push({key:"C",data:[...c]}),n=c[4],i=c[5],a=c[2],h=c[3];break;case"L":e.push({key:"L",data:[...c]}),[n,i]=c;break;case"H":n=c[0],e.push({key:"L",data:[n,i]});break;case"V":i=c[0],e.push({key:"L",data:[n,i]});break;case"S":{let t=0,r=0;"C"===s||"S"===s?(t=n+(n-a),r=i+(i-h)):(t=n,r=i),e.push({key:"C",data:[t,r,...c]}),a=c[0],h=c[1],n=c[2],i=c[3];break}case"T":{const[t,r]=c;let o=0,u=0;"Q"===s||"T"===s?(o=n+(n-a),u=i+(i-h)):(o=n,u=i);const l=n+2*(o-n)/3,p=i+2*(u-i)/3,f=t+2*(o-t)/3,d=r+2*(u-r)/3;e.push({key:"C",data:[l,p,f,d,t,r]}),a=o,h=u,n=t,i=r;break}case"Q":{const[t,s,r,o]=c,u=n+2*(t-n)/3,l=i+2*(s-i)/3,p=r+2*(t-r)/3,f=o+2*(s-o)/3;e.push({key:"C",data:[u,l,p,f,r,o]}),a=t,h=s,n=r,i=o;break}case"A":{const t=Math.abs(c[0]),s=Math.abs(c[1]),r=c[2],o=c[3],a=c[4],h=c[5],u=c[6];0===t||0===s?(e.push({key:"C",data:[n,i,h,u,h,u]}),n=h,i=u):n===h&&i===u||(v(n,i,h,u,t,s,r,o,a).forEach((function(t){e.push({key:"C",data:t})})),n=h,i=u);break}case"Z":e.push({key:"Z",data:[]}),n=r,i=o}s=u}return e}function m(t,e,s){return[t*Math.cos(s)-e*Math.sin(s),t*Math.sin(s)+e*Math.cos(s)]}function v(t,e,s,n,i,r,o,a,h,u){const c=(l=o,Math.PI*l/180);var l;let p=[],f=0,d=0,g=0,_=0;if(u)[f,d,g,_]=u;else{[t,e]=m(t,e,-c),[s,n]=m(s,n,-c);const o=(t-s)/2,u=(e-n)/2;let l=o*o/(i*i)+u*u/(r*r);l>1&&(l=Math.sqrt(l),i*=l,r*=l);const p=i*i,y=r*r,M=p*y-p*u*u-y*o*o,k=p*u*u+y*o*o,b=(a===h?-1:1)*Math.sqrt(Math.abs(M/k));g=b*i*u/r+(t+s)/2,_=b*-r*o/i+(e+n)/2,f=Math.asin(parseFloat(((e-_)/r).toFixed(9))),d=Math.asin(parseFloat(((n-_)/r).toFixed(9))),t<g&&(f=Math.PI-f),s<g&&(d=Math.PI-d),f<0&&(f=2*Math.PI+f),d<0&&(d=2*Math.PI+d),h&&f>d&&(f-=2*Math.PI),!h&&d>f&&(d-=2*Math.PI)}let y=d-f;if(Math.abs(y)>120*Math.PI/180){const t=d,e=s,a=n;d=h&&d>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,p=v(s=g+i*Math.cos(d),n=_+r*Math.sin(d),e,a,i,r,o,0,h,[d,t,g,_])}y=d-f;const M=Math.cos(f),k=Math.sin(f),b=Math.cos(d),w=Math.sin(d),P=Math.tan(y/4),S=4/3*i*P,O=4/3*r*P,x=[t,e],I=[t+S*k,e-O*M],T=[s+S*w,n-O*b],C=[s,n];if(I[0]=2*x[0]-I[0],I[1]=2*x[1]-I[1],u)return[I,T,C].concat(p);{p=[I,T,C].concat(p);const t=[];for(let e=0;e<p.length;e+=3){const s=m(p[e][0],p[e][1],c),n=m(p[e+1][0],p[e+1][1],c),i=m(p[e+2][0],p[e+2][1],c);t.push([s[0],s[1],n[0],n[1],i[0],i[1]])}return t}}const w={randOffset:function(t,e){return E(t,e)},randOffsetWithRange:function(t,e,s){return A(t,e,s)},ellipse:function(t,e,s,n,i){return x(t,e,i,O(s,n,i)).opset},doubleLineOps:function(t,e,s,n,i){return R(t,e,s,n,i,!0)}};function P(t,e,s,n,i){return{type:"path",ops:R(t,e,s,n,i)}}function S(t,e,s){const n=(t||[]).length;if(n>2){const i=[];for(let e=0;e<n-1;e++)i.push(...R(t[e][0],t[e][1],t[e+1][0],t[e+1][1],s));return e&&i.push(...R(t[n-1][0],t[n-1][1],t[0][0],t[0][1],s)),{type:"path",ops:i}}return 2===n?P(t[0][0],t[0][1],t[1][0],t[1][1],s):{type:"path",ops:[]}}function O(t,e,s){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*n),r=2*Math.PI/i;let o=Math.abs(t/2),a=Math.abs(e/2);const h=1-s.curveFitting;return o+=E(o*h,s),a+=E(a*h,s),{increment:r,rx:o,ry:a}}function x(t,e,s,n){const[i,r]=z(n.increment,t,e,n.rx,n.ry,1,n.increment*A(.1,A(.4,1,s),s),s);let o=W(i,null,s);if(!s.disableMultiStroke){const[i]=z(n.increment,t,e,n.rx,n.ry,1.5,0,s),r=W(i,null,s);o=o.concat(r)}return{estimatedPoints:r,opset:{type:"path",ops:o}}}function I(t,e,s,n,i,r,o,a,h){const u=t,c=e;let l=Math.abs(s/2),p=Math.abs(n/2);l+=E(.01*l,h),p+=E(.01*p,h);let f=i,d=r;for(;f<0;)f+=2*Math.PI,d+=2*Math.PI;d-f>2*Math.PI&&(f=0,d=2*Math.PI);const g=2*Math.PI/h.curveStepCount,_=Math.min(g/2,(d-f)/2),y=j(_,u,c,l,p,f,d,1,h);if(!h.disableMultiStroke){const t=j(_,u,c,l,p,f,d,1.5,h);y.push(...t)}return o&&(a?y.push(...R(u,c,u+l*Math.cos(f),c+p*Math.sin(f),h),...R(u,c,u+l*Math.cos(d),c+p*Math.sin(d),h)):y.push({op:"lineTo",data:[u,c]},{op:"lineTo",data:[u+l*Math.cos(f),c+p*Math.sin(f)]})),{type:"path",ops:y}}function T(t,e){const s=[];if(t.length){const n=e.maxRandomnessOffset||0,i=t.length;if(i>2){s.push({op:"move",data:[t[0][0]+E(n,e),t[0][1]+E(n,e)]});for(let r=1;r<i;r++)s.push({op:"lineTo",data:[t[r][0]+E(n,e),t[r][1]+E(n,e)]})}}return{type:"fillPath",ops:s}}function C(t,e){return function(t,e){let s=t.fillStyle||"hachure";if(!d[s])switch(s){case"zigzag":d[s]||(d[s]=new u(e));break;case"cross-hatch":d[s]||(d[s]=new c(e));break;case"dots":d[s]||(d[s]=new l(e));break;case"dashed":d[s]||(d[s]=new p(e));break;case"zigzag-line":d[s]||(d[s]=new f(e));break;case"hachure":default:s="hachure",d[s]||(d[s]=new h(e))}return d[s]}(e,w).fillPolygon(t,e)}function L(t){return t.randomizer||(t.randomizer=new g(t.seed||0)),t.randomizer.next()}function A(t,e,s,n=1){return s.roughness*n*(L(s)*(e-t)+t)}function E(t,e,s=1){return A(-t,t,e,s)}function R(t,e,s,n,i,r=!1){const o=r?i.disableMultiStrokeFill:i.disableMultiStroke,a=D(t,e,s,n,i,!0,!1);if(o)return a;const h=D(t,e,s,n,i,!0,!0);return a.concat(h)}function D(t,e,s,n,i,r,o){const a=Math.pow(t-s,2)+Math.pow(e-n,2),h=Math.sqrt(a);let u=1;u=h<200?1:h>500?.4:-.0016668*h+1.233334;let c=i.maxRandomnessOffset||0;c*c*100>a&&(c=h/10);const l=c/2,p=.2+.2*L(i);let f=i.bowing*i.maxRandomnessOffset*(n-e)/200,d=i.bowing*i.maxRandomnessOffset*(t-s)/200;f=E(f,i,u),d=E(d,i,u);const g=[],_=()=>E(l,i,u),y=()=>E(c,i,u);return r&&(o?g.push({op:"move",data:[t+_(),e+_()]}):g.push({op:"move",data:[t+E(c,i,u),e+E(c,i,u)]})),o?g.push({op:"bcurveTo",data:[f+t+(s-t)*p+_(),d+e+(n-e)*p+_(),f+t+2*(s-t)*p+_(),d+e+2*(n-e)*p+_(),s+_(),n+_()]}):g.push({op:"bcurveTo",data:[f+t+(s-t)*p+y(),d+e+(n-e)*p+y(),f+t+2*(s-t)*p+y(),d+e+2*(n-e)*p+y(),s+y(),n+y()]}),g}function F(t,e,s){const n=[];n.push([t[0][0]+E(e,s),t[0][1]+E(e,s)]),n.push([t[0][0]+E(e,s),t[0][1]+E(e,s)]);for(let i=1;i<t.length;i++)n.push([t[i][0]+E(e,s),t[i][1]+E(e,s)]),i===t.length-1&&n.push([t[i][0]+E(e,s),t[i][1]+E(e,s)]);return W(n,null,s)}function W(t,e,s){const n=t.length,i=[];if(n>3){const r=[],o=1-s.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let e=1;e+2<n;e++){const s=t[e];r[0]=[s[0],s[1]],r[1]=[s[0]+(o*t[e+1][0]-o*t[e-1][0])/6,s[1]+(o*t[e+1][1]-o*t[e-1][1])/6],r[2]=[t[e+1][0]+(o*t[e][0]-o*t[e+2][0])/6,t[e+1][1]+(o*t[e][1]-o*t[e+2][1])/6],r[3]=[t[e+1][0],t[e+1][1]],i.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}if(e&&2===e.length){const t=s.maxRandomnessOffset;i.push({op:"lineTo",data:[e[0]+E(t,s),e[1]+E(t,s)]})}}else 3===n?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===n&&i.push(...R(t[0][0],t[0][1],t[1][0],t[1][1],s));return i}function z(t,e,s,n,i,r,o,a){const h=[],u=[],c=E(.5,a)-Math.PI/2;u.push([E(r,a)+e+.9*n*Math.cos(c-t),E(r,a)+s+.9*i*Math.sin(c-t)]);for(let l=c;l<2*Math.PI+c-.01;l+=t){const t=[E(r,a)+e+n*Math.cos(l),E(r,a)+s+i*Math.sin(l)];h.push(t),u.push(t)}return u.push([E(r,a)+e+n*Math.cos(c+2*Math.PI+.5*o),E(r,a)+s+i*Math.sin(c+2*Math.PI+.5*o)]),u.push([E(r,a)+e+.98*n*Math.cos(c+o),E(r,a)+s+.98*i*Math.sin(c+o)]),u.push([E(r,a)+e+.9*n*Math.cos(c+.5*o),E(r,a)+s+.9*i*Math.sin(c+.5*o)]),[u,h]}function j(t,e,s,n,i,r,o,a,h){const u=r+E(.1,h),c=[];c.push([E(a,h)+e+.9*n*Math.cos(u-t),E(a,h)+s+.9*i*Math.sin(u-t)]);for(let l=u;l<=o;l+=t)c.push([E(a,h)+e+n*Math.cos(l),E(a,h)+s+i*Math.sin(l)]);return c.push([e+n*Math.cos(o),s+i*Math.sin(o)]),c.push([e+n*Math.cos(o),s+i*Math.sin(o)]),W(c,null,h)}function q(t,e,s,n,i,r,o,a){const h=[],u=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let c=[0,0];const l=a.disableMultiStroke?1:2;for(let p=0;p<l;p++)0===p?h.push({op:"move",data:[o[0],o[1]]}):h.push({op:"move",data:[o[0]+E(u[0],a),o[1]+E(u[0],a)]}),c=[i+E(u[p],a),r+E(u[p],a)],h.push({op:"bcurveTo",data:[t+E(u[p],a),e+E(u[p],a),s+E(u[p],a),n+E(u[p],a),c[0],c[1]]});return h}function $(t){return[...t]}function G(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function U(t,e,s){const n=G(e,s);if(0===n)return G(t,e);let i=((t[0]-e[0])*(s[0]-e[0])+(t[1]-e[1])*(s[1]-e[1]))/n;return i=Math.max(0,Math.min(1,i)),G(t,V(e,s,i))}function V(t,e,s){return[t[0]+(e[0]-t[0])*s,t[1]+(e[1]-t[1])*s]}function B(t,e,s,n){const i=n||[];if(function(t,e){const s=t[e+0],n=t[e+1],i=t[e+2],r=t[e+3];let o=3*n[0]-2*s[0]-r[0];o*=o;let a=3*n[1]-2*s[1]-r[1];a*=a;let h=3*i[0]-2*r[0]-s[0];h*=h;let u=3*i[1]-2*r[1]-s[1];return u*=u,o<h&&(o=h),a<u&&(a=u),o+a}(t,e)<s){const s=t[e+0];i.length?(r=i[i.length-1],o=s,Math.sqrt(G(r,o))>1&&i.push(s)):i.push(s),i.push(t[e+3])}else{const n=.5,r=t[e+0],o=t[e+1],a=t[e+2],h=t[e+3],u=V(r,o,n),c=V(o,a,n),l=V(a,h,n),p=V(u,c,n),f=V(c,l,n),d=V(p,f,n);B([r,u,p,d],0,s,i),B([d,f,l,h],0,s,i)}var r,o;return i}function N(t,e){return Q(t,0,t.length,e)}function Q(t,e,s,n,i){const r=i||[],o=t[e],a=t[s-1];let h=0,u=1;for(let c=e+1;c<s-1;++c){const e=U(t[c],o,a);e>h&&(h=e,u=c)}return Math.sqrt(h)>n?(Q(t,e,u+1,n,r),Q(t,u,s,n,r)):(r.length||r.push(o),r.push(a)),r}function Z(t,e=.15,s){const n=[],i=(t.length-1)/3;for(let r=0;r<i;r++)B(t,3*r,e,n);return s&&s>0?Q(n,0,n.length,s):n}const H="none";class X{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,e,s){return{shape:t,sets:e||[],options:s||this.defaultOptions}}line(t,e,s,n,i){const r=this._o(i);return this._d("line",[P(t,e,s,n,r)],r)}rectangle(t,e,s,n,i){const r=this._o(i),o=[],a=function(t,e,s,n,i){return S([[t,e],[t+s,e],[t+s,e+n],[t,e+n]],!0,i)}(t,e,s,n,r);if(r.fill){const i=[[t,e],[t+s,e],[t+s,e+n],[t,e+n]];"solid"===r.fillStyle?o.push(T(i,r)):o.push(C(i,r))}return r.stroke!==H&&o.push(a),this._d("rectangle",o,r)}ellipse(t,e,s,n,i){const r=this._o(i),o=[],a=O(s,n,r),h=x(t,e,r,a);if(r.fill)if("solid"===r.fillStyle){const s=x(t,e,r,a).opset;s.type="fillPath",o.push(s)}else o.push(C(h.estimatedPoints,r));return r.stroke!==H&&o.push(h.opset),this._d("ellipse",o,r)}circle(t,e,s,n){const i=this.ellipse(t,e,s,s,n);return i.shape="circle",i}linearPath(t,e){const s=this._o(e);return this._d("linearPath",[S(t,!1,s)],s)}arc(t,e,s,n,i,r,o=!1,a){const h=this._o(a),u=[],c=I(t,e,s,n,i,r,o,!0,h);if(o&&h.fill)if("solid"===h.fillStyle){const o=I(t,e,s,n,i,r,!0,!1,h);o.type="fillPath",u.push(o)}else u.push(function(t,e,s,n,i,r,o){const a=t,h=e;let u=Math.abs(s/2),c=Math.abs(n/2);u+=E(.01*u,o),c+=E(.01*c,o);let l=i,p=r;for(;l<0;)l+=2*Math.PI,p+=2*Math.PI;p-l>2*Math.PI&&(l=0,p=2*Math.PI);const f=(p-l)/o.curveStepCount,d=[];for(let g=l;g<=p;g+=f)d.push([a+u*Math.cos(g),h+c*Math.sin(g)]);return d.push([a+u*Math.cos(p),h+c*Math.sin(p)]),d.push([a,h]),C(d,o)}(t,e,s,n,i,r,h));return h.stroke!==H&&u.push(c),this._d("arc",u,h)}curve(t,e){const s=this._o(e),n=[],i=function(t,e){let s=F(t,1*(1+.2*e.roughness),e);if(!e.disableMultiStroke){const n=F(t,1.5*(1+.22*e.roughness),function(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}(e));s=s.concat(n)}return{type:"path",ops:s}}(t,s);if(s.fill&&s.fill!==H&&t.length>=3){const e=Z(function(t,e=0){const s=t.length;if(s<3)throw new Error("A curve must have at least three points.");const n=[];if(3===s)n.push($(t[0]),$(t[1]),$(t[2]),$(t[2]));else{const s=[];s.push(t[0],t[0]);for(let e=1;e<t.length;e++)s.push(t[e]),e===t.length-1&&s.push(t[e]);const i=[],r=1-e;n.push($(s[0]));for(let t=1;t+2<s.length;t++){const e=s[t];i[0]=[e[0],e[1]],i[1]=[e[0]+(r*s[t+1][0]-r*s[t-1][0])/6,e[1]+(r*s[t+1][1]-r*s[t-1][1])/6],i[2]=[s[t+1][0]+(r*s[t][0]-r*s[t+2][0])/6,s[t+1][1]+(r*s[t][1]-r*s[t+2][1])/6],i[3]=[s[t+1][0],s[t+1][1]],n.push(i[1],i[2],i[3])}}return n}(t),10,(1+s.roughness)/2);"solid"===s.fillStyle?n.push(T(e,s)):n.push(C(e,s))}return s.stroke!==H&&n.push(i),this._d("curve",n,s)}polygon(t,e){const s=this._o(e),n=[],i=S(t,!0,s);return s.fill&&("solid"===s.fillStyle?n.push(T(t,s)):n.push(C(t,s))),s.stroke!==H&&n.push(i),this._d("polygon",n,s)}path(t,e){const s=this._o(e),n=[];if(!t)return this._d("path",n,s);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const i=s.fill&&"transparent"!==s.fill&&s.fill!==H,r=s.stroke!==H,o=!!(s.simplification&&s.simplification<1),a=function(t,e,s){const n=b(k(M(t))),i=[];let r=[],o=[0,0],a=[];const h=()=>{a.length>=4&&r.push(...Z(a,1)),a=[]},u=()=>{h(),r.length&&(i.push(r),r=[])};for(const{key:l,data:p}of n)switch(l){case"M":u(),o=[p[0],p[1]],r.push(o);break;case"L":h(),r.push([p[0],p[1]]);break;case"C":if(!a.length){const t=r.length?r[r.length-1]:o;a.push([t[0],t[1]])}a.push([p[0],p[1]]),a.push([p[2],p[3]]),a.push([p[4],p[5]]);break;case"Z":h(),r.push([o[0],o[1]])}if(u(),!s)return i;const c=[];for(const l of i){const t=N(l,s);t.length&&c.push(t)}return c}(t,0,o?4-4*s.simplification:(1+s.roughness)/2);if(i)if(s.combineNestedSvgPaths){const t=[];a.forEach((e=>t.push(...e))),"solid"===s.fillStyle?n.push(T(t,s)):n.push(C(t,s))}else a.forEach((t=>{"solid"===s.fillStyle?n.push(T(t,s)):n.push(C(t,s))}));return r&&(o?a.forEach((t=>{n.push(S(t,!1,s))})):n.push(function(t,e){const s=b(k(M(t))),n=[];let i=[0,0],r=[0,0];for(const{key:o,data:a}of s)switch(o){case"M":{const t=1*(e.maxRandomnessOffset||0);n.push({op:"move",data:a.map((s=>s+E(t,e)))}),r=[a[0],a[1]],i=[a[0],a[1]];break}case"L":n.push(...R(r[0],r[1],a[0],a[1],e)),r=[a[0],a[1]];break;case"C":{const[t,s,i,o,h,u]=a;n.push(...q(t,s,i,o,h,u,r,e)),r=[h,u];break}case"Z":n.push(...R(r[0],r[1],i[0],i[1],e)),r=[i[0],i[1]]}return{type:"path",ops:n}}(t,s))),this._d("path",n,s)}opsToPath(t){let e="";for(const s of t.ops){const t=s.data;switch(s.op){case"move":e+=`M${t[0]} ${t[1]} `;break;case"bcurveTo":e+=`C${t[0]} ${t[1]}, ${t[2]} ${t[3]}, ${t[4]} ${t[5]} `;break;case"lineTo":e+=`L${t[0]} ${t[1]} `}}return e.trim()}toPaths(t){const e=t.sets||[],s=t.options||this.defaultOptions,n=[];for(const i of e){let t=null;switch(i.type){case"path":t={d:this.opsToPath(i),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:H};break;case"fillPath":t={d:this.opsToPath(i),stroke:H,strokeWidth:0,fill:s.fill||H};break;case"fillSketch":t=this.fillSketch(i,s)}t&&n.push(t)}return n}fillSketch(t,e){let s=e.fillWeight;return s<0&&(s=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||H,strokeWidth:s,fill:H}}}class J{constructor(t,e){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new X(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),n=this.ctx;for(const i of e)switch(i.type){case"path":n.save(),n.strokeStyle="none"===s.stroke?"transparent":s.stroke,n.lineWidth=s.strokeWidth,s.strokeLineDash&&n.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(n.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(n,i),n.restore();break;case"fillPath":n.save(),n.fillStyle=s.fill||"";const e="curve"===t.shape||"polygon"===t.shape?"evenodd":"nonzero";this._drawToContext(n,i,e),n.restore();break;case"fillSketch":this.fillSketch(n,i,s)}}fillSketch(t,e,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2),t.save(),s.fillLineDash&&t.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(t.lineDashOffset=s.fillLineDashOffset),t.strokeStyle=s.fill||"",t.lineWidth=n,this._drawToContext(t,e),t.restore()}_drawToContext(t,e,s="nonzero"){t.beginPath();for(const n of e.ops){const e=n.data;switch(n.op){case"move":t.moveTo(e[0],e[1]);break;case"bcurveTo":t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]);break;case"lineTo":t.lineTo(e[0],e[1])}}"fillPath"===e.type?t.fill(s):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,s,n,i){const r=this.gen.line(t,e,s,n,i);return this.draw(r),r}rectangle(t,e,s,n,i){const r=this.gen.rectangle(t,e,s,n,i);return this.draw(r),r}ellipse(t,e,s,n,i){const r=this.gen.ellipse(t,e,s,n,i);return this.draw(r),r}circle(t,e,s,n){const i=this.gen.circle(t,e,s,n);return this.draw(i),i}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s),s}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s),s}arc(t,e,s,n,i,r,o=!1,a){const h=this.gen.arc(t,e,s,n,i,r,o,a);return this.draw(h),h}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s),s}path(t,e){const s=this.gen.path(t,e);return this.draw(s),s}}const K="http://www.w3.org/2000/svg";class Y{constructor(t,e){this.svg=t,this.gen=new X(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,i=n.createElementNS(K,"g");for(const r of e){let e=null;switch(r.type){case"path":e=n.createElementNS(K,"path"),e.setAttribute("d",this.opsToPath(r)),e.setAttribute("stroke",s.stroke),e.setAttribute("stroke-width",s.strokeWidth+""),e.setAttribute("fill","none"),s.strokeLineDash&&e.setAttribute("stroke-dasharray",s.strokeLineDash.join(" ").trim()),s.strokeLineDashOffset&&e.setAttribute("stroke-dashoffset",""+s.strokeLineDashOffset);break;case"fillPath":e=n.createElementNS(K,"path"),e.setAttribute("d",this.opsToPath(r)),e.setAttribute("stroke","none"),e.setAttribute("stroke-width","0"),e.setAttribute("fill",s.fill||""),"curve"!==t.shape&&"polygon"!==t.shape||e.setAttribute("fill-rule","evenodd");break;case"fillSketch":e=this.fillSketch(n,r,s)}e&&i.appendChild(e)}return i}fillSketch(t,e,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2);const i=t.createElementNS(K,"path");return i.setAttribute("d",this.opsToPath(e)),i.setAttribute("stroke",s.fill||""),i.setAttribute("stroke-width",n+""),i.setAttribute("fill","none"),s.fillLineDash&&i.setAttribute("stroke-dasharray",s.fillLineDash.join(" ").trim()),s.fillLineDashOffset&&i.setAttribute("stroke-dashoffset",""+s.fillLineDashOffset),i}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t){return this.gen.opsToPath(t)}line(t,e,s,n,i){const r=this.gen.line(t,e,s,n,i);return this.draw(r)}rectangle(t,e,s,n,i){const r=this.gen.rectangle(t,e,s,n,i);return this.draw(r)}ellipse(t,e,s,n,i){const r=this.gen.ellipse(t,e,s,n,i);return this.draw(r)}circle(t,e,s,n){const i=this.gen.circle(t,e,s,n);return this.draw(i)}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s)}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s)}arc(t,e,s,n,i,r,o=!1,a){const h=this.gen.arc(t,e,s,n,i,r,o,a);return this.draw(h)}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s)}path(t,e){const s=this.gen.path(t,e);return this.draw(s)}}var tt,et={canvas:(t,e)=>new J(t,e),svg:(t,e)=>new Y(t,e),generator:t=>new X(t),newSeed:()=>X.newSeed()},st={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-st.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*st.Bounce.In(2*t):.5*st.Bounce.Out(2*t-1)+.5}}},nt="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},it=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=nt()),void 0===e&&(e=!1);var s=Object.keys(this._tweens);if(0===s.length)return!1;for(;s.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<s.length;n++){var i=this._tweens[s[n]],r=!e;i&&!1===i.update(t,r)&&!e&&delete this._tweens[s[n]]}s=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),rt={Linear:function(t,e){var s=t.length-1,n=s*e,i=Math.floor(n),r=rt.Utils.Linear;return e<0?r(t[0],t[1],n):e>1?r(t[s],t[s-1],s-n):r(t[i],t[i+1>s?s:i+1],n-i)},Bezier:function(t,e){for(var s=0,n=t.length-1,i=Math.pow,r=rt.Utils.Bernstein,o=0;o<=n;o++)s+=i(1-e,n-o)*i(e,o)*t[o]*r(n,o);return s},CatmullRom:function(t,e){var s=t.length-1,n=s*e,i=Math.floor(n),r=rt.Utils.CatmullRom;return t[0]===t[s]?(e<0&&(i=Math.floor(n=s*(1+e))),r(t[(i-1+s)%s],t[i],t[(i+1)%s],t[(i+2)%s],n-i)):e<0?t[0]-(r(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[s]-(r(t[s],t[s],t[s-1],t[s-1],n-s)-t[s]):r(t[i?i-1:0],t[i],t[s<i+1?s:i+1],t[s<i+2?s:i+2],n-i)},Utils:{Linear:function(t,e,s){return(e-t)*s+t},Bernstein:function(t,e){var s=rt.Utils.Factorial;return s(t)/s(e)/s(t-e)},Factorial:(tt=[1],function(t){var e=1;if(tt[t])return tt[t];for(var s=t;s>1;s--)e*=s;return tt[t]=e,e}),CatmullRom:function(t,e,s,n,i){var r=.5*(s-t),o=.5*(n-e),a=i*i;return(2*e-2*s+r+o)*(i*a)+(-3*e+3*s-2*r-o)*a+r*i+e}}},ot=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),at=new it,ht=function(){function t(t,e){void 0===e&&(e=at),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=st.Linear.None,this._interpolationFunction=rt.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=ot.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?nt()+parseFloat(t):t:nt(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,s,n){for(var i in s){var r=t[i],o=Array.isArray(r),a=o?"array":typeof r,h=!o&&Array.isArray(s[i]);if("undefined"!==a&&"function"!==a){if(h){var u=s[i];if(0===u.length)continue;u=u.map(this._handleRelativeValue.bind(this,r)),s[i]=[r].concat(u)}if("object"!==a&&!o||!r||h)void 0===e[i]&&(e[i]=r),o||(e[i]*=1),n[i]=h?s[i].slice().reverse():e[i]||0;else{for(var c in e[i]=o?[]:{},r)e[i][c]=r[c];n[i]=o?[]:{},this._setupProperties(r,e[i],s[i],n[i])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=nt()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=nt()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=nt()),void 0===e&&(e=!0),this._isPaused)return!0;var s,n,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>i)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var r=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,r),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(s in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[s]||(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,a=this._chainedTweens.length;o<a;o++)this._chainedTweens[o].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,s,n){for(var i in s)if(void 0!==e[i]){var r=e[i]||0,o=s[i],a=Array.isArray(t[i]),h=Array.isArray(o);!a&&h?t[i]=this._interpolationFunction(o,n):"object"==typeof o&&o?this._updateProperties(t[i],r,o,n):"number"==typeof(o=this._handleRelativeValue(r,o))&&(t[i]=r+(o-r)*n)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],s=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof s?this._valuesStartRepeat[t]+parseFloat(s):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),ut=at,ct=ut.getAll.bind(ut);ut.removeAll.bind(ut),ut.add.bind(ut);var lt=ut.remove.bind(ut);ut.update.bind(ut);export{st as E,ht as T,ct as g,lt as r,et as s};
